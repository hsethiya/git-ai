---
title: Add your Agent
description: A guide to building Git AI support into your agent
---

# Measuring your Agent's AI Authorship with Git AI

Developers will choose their own coding agents, just like they choose their favorite IDE. That's why one of [Git AI's goals](https://github.com/acunniffe/git-ai?tab=readme-ov-file#goals-of-git-ai-project) is to become the vendor-agnostic standard for tracking AI code and prompts.

If you're building a coding agent, integrating Git AI is straightforward and helps your customers track the code your agent generates from their laptop to production. 

## Before you start 

Read the [How Git AI Works](https://usegitai.com/docs/how-git-ai-works) guide. Your agent will call `git-ai checkpoint` twice: once before editing a file, and once immediately after. 

![alt](https://github.com/acunniffe/git-ai/raw/main/assets/docs/supported-agents.png)

## Hooks or Direct Integration?

Your agent can call `git-ai` in one of two ways: 
- **Hooks**: If your agent supports `BeforeEdit` and `AfterEdit` hooks, users can add Git AI checkpoint hooks to their configuration. This is how [Claude Code](https://usegitai.com/docs/claude-code) and [Cursor](https://usegitai.com/docs/cursor) integrate with Git AI
- **Direct Integration**: Call `git-ai` directly from your agent's code

```typescript
// On startup, check if git-ai is installed
export const GIT_AI_INSTALLED = execSync(`${process.platform === "win32" ? "where" : "which"} git-ai`)

// When your agent edits a file
if (GIT_AI_INSTALLED) await exec(`git-ai checkpoint`)
applyFilePatch(editTool.path, editTool.patch)
if (GIT_AI_INSTALLED) await exec(`git-ai checkpoint <your-agent-name> <...metadata>`)
```

If your agent already supports hooks, that's the recommended integration path. However, since building a hook system requires significant design and engineering work, invoking `git-ai` directly is a good starting point if you want to get something working quickly for your users. 

### Mock Integration

You can quickly simulate your agent's integration using the `mockai` preset:

1. Write some code manually in a git-tracked file, then mark it as AI:
```bash
git-ai checkpoint mockai
```

2. Edit a single line of that code without marking it as AI. Calling `checkpoint` without a preset marks the changes as human:
```bash
git-ai checkpoint
```

3. Stage and commit the changes:
```bash
git commit -a -m "Testing Git AI"
```

4. Run `git-ai blame` to see AI authorship. Notice that the line you edited is attributed to you, not `mockai`:

```rust
be4f6cc (mockai         2025-07-11 19:00:20 -0400    1) mod utils;
be4f6cc (Aidan Cunniffe 2025-7-11 19:00:20 -0400     2) // Human overwrote this line
be4f6cc (mockai         2025-07-11 19:00:20 -0400    3) use clap::Parser;
```

Now you just need to get your agent to call `git-ai checkpoint` the same way to mark its edits. Before building your own checkpoint preset, you can wire everything up with the `mockai` preset for testing. 


## First-class Support 

Git AI only mainlines integrations that are turn-key for end-users. Companies are rolling out `git-ai` to large engineering teams, and we don't want to ship integrations that require manual steps. Let's work together upfront to save everyone downstream effort. 

### Adding an Agent Preset 

All agents are required to implement their own agent preset: `git-ai checkpoint <your-agent-name>`

Here are examples for Cursor and Claude:
- [Cursor](https://github.com/acunniffe/git-ai/blob/6981449ec47212f885ad1917a5e9283639e07fa8/src/commands/checkpoint_agent/agent_preset.rs#L120) - takes their hook system's JSON as stdin and queries the local SQLite database inside Cursor to get AI transcripts
- [Claude Code](https://github.com/acunniffe/git-ai/blob/6981449ec47212f885ad1917a5e9283639e07fa8/src/commands/checkpoint_agent/agent_preset.rs#L33) - takes their hook system's JSON as stdin and reads the transcript from a JSONL file included in the stdin

These integrations are complex because they read from the agent's local state directly. Your agent preset could theoretically send the entire prompt and all other required data over stdin or with additional flags/arguments for a much simpler implementation. Both patterns are acceptable. 

#### Sending Required Data 

- **Edited filepaths** (absolute or relative to git root). This makes checkpoints ~50-100x faster in large repos by allowing Git AI to narrow its searches for AI changes to files that AI has edited since the last commit
- **[Transcript of AI Thread](https://github.com/acunniffe/git-ai/blob/main/src/authorship/transcript.rs)**. Include user prompts and agent responses, exclude tool use
- **The AI model used**. We don't standardize this yet. However your agent represents different models/versions is acceptable 


### Supporting `git-ai install-hooks` (skip if you're doing direct integration)

If your integration requires adding hooks or installing an IDE extension, that work should be done in `git-ai install-hooks`. You'll notice that the other agent setup routines are built durably:

- They check if the agent is installed (and sometimes its version) before doing their work
- If there is a hooks or config file being added/updated, they cleanly merge in their hooks
- They can fail without interrupting the other installations

[Install hooks source code](https://github.com/acunniffe/git-ai/blob/main/src/commands/install_hooks.rs)


## Checklist before opening a PR

- [ ] You've implemented an Agent Preset that gets the prompt, model, and edited filepaths into Git AI

**If direct integration:**
- [ ] Your agent calls `git-ai checkpoint` before editing a file and `git-ai checkpoint <your-agent>` after editing a file

**If hooks:**
- [ ] You've added support for your agent's hook system to `git-ai install-hooks`
    - Durable, works cross-platform and cross-shell
    - Merges, does not overwrite existing hooks (unless it's an older git-ai checkpoint call)
    - Fails with a useful error

**If IDE extension:**
- [ ] Your extension installs as part of `git-ai install-hooks`
    - Durable, works cross-platform and cross-shell
    - Fails with a useful error and doesn't leave the system in a broken state

- [ ] You've added a docs page for your agent to the `/docs` directory 

## Getting help

The core maintainers are available for help and feedback, and we'd love to meet you. Set up a call and we can help you get your agent integrated. [Schedule a call](https://calendly.com/acunniffe/meeting-with-git-ai-authors)

### Miscellaneous

- Make no assumptions about any CLI tools being installed (e.g., `jq` or `node`)
- Expect any generated hooks/bash scripts to work cross-platform and cross-shell
- Avoid additional dependencies unless absolutely necessary. We're trying to keep the binary small and our SBOM secure and auditable 