---
title: Add your Agent
description: A guide to building Git AI support into your agent
---



# Measuring your Agent's AI Authorship with Git AI

Developers will get to choose their own coding agents, just like they have always been allowed to choose their favorite IDE. That is why one of [Git AI's goals](https://github.com/acunniffe/git-ai?tab=readme-ov-file#goals-of-git-ai-project) is to became the vendor agnostic standard for tracking AI code + prompts. 

If you're building a coding agent it is easy to integrate Git AI to help your customers track the code your agent generates all the way from their laptop to production. 

## Before you start 

Read the [How Git AI Works](https://usegitai.com/docs/how-git-ai-works) Guide. Your Agent will be calling `git-ai checkpoint` twice, once before editing a file, and once immediatly after. 

![alt](https://github.com/acunniffe/git-ai/raw/main/assets/docs/supported-agents.png)

## Hooks or Direct Integration?

Your Agent can call `git-ai` in one of two ways: 
- If your Agent supports the equivilant of `BeforeEdit` and `AfterEdit` `hooks` you can have users add Git AI checkpoint hooks to their configuration. This is how [Claude Code](https://usegitai.com/docs/claude-code) and [Cursor](https://usegitai.com/docs/cursor) integrate with Git AI
- Calling `git-ai` in your Agent's code. 

`psuedo code`
```typescript
// On startup, check if the dev machine has git-ai installed
export const GIT_AI_INSTALLED = execSync(`${process.platform === "win32" ? "where" : "which"} git-ai`)
...
// when your agent edits a file
if (GIT_AI_INSTALLED) await exec(`git-ai checkpoint`)
applyFilePatch(editTool.path, editTool.patch)
if (GIT_AI_INSTALLED) await exec(`git-ai checkpoint <your-agnent-name> <...metadata>`)
```

If your Agent already supports hooks, that's probably the best path to integrate, but since building a hook system is a non-trivial amount of design and engineering work, invoking `git-ai` directly is a good place to start if you want to get something working quickly for your users. 

#### Mock integration

You can quickly simulate your agent's integration by using the `mockai` preset. 

1. Write some code manually in a git-tracked file. Then mark it as AI
```bash
git-ai checkpoint mockai
```

2. Now edit a single line of that code without marking it as AI. Calling `checkpoint` without a preset will mark the changes as human. 
```bash
git-ai checkpoint
```

3. Stage + Commit the changes 
```
git commit -a -m "Testing Git AI"
```

4. Run `git-ai blame` to see AI authorship. Notice that the line you edited is attributed to you, not `mockai`.

```rust
be4f6cc (mockai         2025-07-11 19:00:20 -0400    1) mod utils;
be4f6cc (Aidan Cunniffe 2025-7-11 19:00:20 -0400     2) // Human overwrote this line
be4f6cc (mockai         2025-07-11 19:00:20 -0400    3) use clap::Parser;
```

Now you just need to get your Agent to call `git-ai checkpoint` the same way to mark its edits. Before building your own checkpoint preset it's possible to wire everything up with `mockai` preset for your testing. 


## First-class Support 

Git AI will only mainline integrations that are turn-key for end-users. There are companies rolling out `git-ai` to large teams of engineers and we do not want to ship any integrations that require manual steps. Let's do the work together, up-front, to save everyone downstream a lot of effort. 

### Adding an Agent Preset 
All Agents are required to implement their own agent preset ie `git-ai checkpoint <your-agent-name>` 

Here's the example for Cursor and Claude. 
- [Cursor](https://github.com/acunniffe/git-ai/blob/6981449ec47212f885ad1917a5e9283639e07fa8/src/commands/checkpoint_agent/agent_preset.rs#L120) - takes their hook system's json as stdin and queries the local SQLite db inside of Cursor to get the AI transcripts
- [Claude Code](https://github.com/acunniffe/git-ai/blob/6981449ec47212f885ad1917a5e9283639e07fa8/src/commands/checkpoint_agent/agent_preset.rs#L33) - takes their hook system's json as stdin and reads the transcript from a JSONL file included in the stdin. 

These integrations are complicated because they read from those's agent's local state directly. Your agent preset could (in theory) send the entire prompt, and all other required data over stdin or with additional flags/arguments for a much simpler implementation. There's nothing wrong with either pattern. 

#### Sending Required Data 
- Edited filepaths (absolute or relative to git root). This makes checkpoints ~50-100x faster in large repos by allowing Git AI to narrow its searches for AI changes to files AI has edited since the last commit. 
- [Transcript of AI Thread](https://github.com/acunniffe/git-ai/blob/main/src/authorship/transcript.rs). Include User prompts and agent responses, exclude tool use. 
- The AI model used. We don't standardize this yet. However your agent represents different models/versions is acceptable. 


### Supporting `git-ai install-hooks` (skip if you're doing the direct integration)
If your integration requires adding hooks or installing an IDE extension, that work should be done in `git-ai install-hooks`. You'll notice that the other agent setup routines are built durably.
- They check if the agent is installed (and sometimes its version) before doing their work 
- If there is a hooks or config file being added/updated, they cleanly merge in their hooks
- Can fail, without interrupting the other installations. 


[Install hooks source code](https://github.com/acunniffe/git-ai/blob/main/src/commands/install_hooks.rs)


## Checklist before opening a PR

- [ ] You've implemented an Agent Preset that gets the prompt, model and edited filepaths into Git AI. 

*if direct integration*
- [ ] Your Agent calls `git-ai checkpoint` before  editing a file and `git-ai checkpoint <your-agent>` after editing a file. 

*if hooks*
- [ ] Your Agent supports the equivilant of `BeforeEdit` and `AfterEdit` `hooks` you can have users add Git AI checkpoint hooks to their configuration. This is how [Claude Code](https://usegitai.com/docs/claude-code) and [Cursor](https://usegitai.com/docs/cursor) integrate with Git AI
- [ ] Your Agent supports `git-ai install-hooks` to add the hooks to their configuration. 

## Getting help

The core maintainers are available for help and feedback and we'd love to meet you. Set up a call and we can help you get your agent integrated. [Schedule a call](https://calendly.com/acunniffe/meeting-with-git-ai-authors)

### Miscellaneous
- Make no assumptions about any CLI tools being installed. Ie ... `jq` or `node`. 
- Expect any generated hooks / bash scripts will be expected to work cross platform and xshell
- Avoid additional dependencies unless absolutely necessary. We're trying to keep the binary small and our SBOM secure + auditable. 